<!DOCTYPE html>
<html>
<head>
  <title>Bounding Box Overlay on Google Maps</title>
  <style>
    #map {
      height: 90vh;
      width: 100%;
    }
    #controls {
      padding: 10px;
    }
  </style>
</head>
<body>
  <div id="controls">
    <input type="text" id="bboxInput" placeholder="lat1,lon1,lat2,lon2" size="40">
    <button onclick="drawRectangle()">Submit</button>
  </div>
  <div id="map"></div>

  <script>
    let map;
    let rectangle;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 0, lng: 0 },
        zoom: 2,
      });
    }

    function drawRectangle() {
      const input = document.getElementById("bboxInput").value.trim();
      const parts = input.split(",").map(Number);

      if (parts.length !== 4 || parts.some(isNaN)) {
        alert("Please enter 4 valid numbers: lat1,lon1,lat2,lon2");
        return;
      }

      const [lat1, lon1, lat2, lon2] = parts;
      const bounds = {
        north: Math.max(lat1, lat2),
        south: Math.min(lat1, lat2),
        east: Math.max(lon1, lon2),
        west: Math.min(lon1, lon2),
      };

      if (rectangle) {
        rectangle.setMap(null); // remove previous rectangle
      }

      rectangle = new google.maps.Rectangle({
        strokeColor: "#FF0000",
        strokeOpacity: 0.8,
        strokeWeight: 2,
        fillColor: "#FF0000",
        fillOpacity: 0.35,
        map,
        bounds,
      });

      // Auto zoom to fit the rectangle
      map.fitBounds(bounds);
    }
  </script>

  <script async
     src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB66kyfNi_Euch5zv4wn3KY1YPpmMRIBNo&callback=initMap">
  </script>
</body>
</html>